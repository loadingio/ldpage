var lc={list:[]},view=new ldview({root:document.body,text:{count:function(){return lc.list.length}},handler:{item:{key:function(t){return t.id},list:function(){return lc.list||[]},init:function(t){t.node},handler:function(t){var e=t.node,t=t.data;return document.body.scrollTop,e.classList.add("active"),ld$.find(e,"[ld=id]",0).innerText=t.id}}},action:{click:{fetch:function(){return page.fetch()},reset:function(){return view.get("reset").classList.toggle("d-none",!0),view.get("fetch").classList.toggle("d-none",!1),page.reset(),lc.list=[],view.render()}}}}),ldld=new ldloader({className:"ldld full"}),ldcv=new ldcover({root:".ldcv"}),page=new ldpage({fetch:function(){var t=this;return ldld.on(),debounce(1e3).then(function(){var l;return ldld.off(),l=lc.list.length>2*t.limit?0:lc.list.length>1.47*t.limit?Math.round(.47*t.limit):t.limit,function(){for(var t=[],e=0,n=l;e<n;++e)t.push(e);return t}().map(function(){return{id:Math.random().toString(36).substring(2)}})})}});page.on("empty",function(){return console.log("empty")}),page.on("finish",function(){return view.get("reset").classList.toggle("d-none",!1),view.get("fetch").classList.toggle("d-none",!0),ldcv.toggle(!0)}),page.on("fetch",function(t){return lc.list||(lc.list=[]),lc.list=t.concat(lc.list||(lc.list=[])),view.render()});